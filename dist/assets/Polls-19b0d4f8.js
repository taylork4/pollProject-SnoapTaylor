import{d as $,r as x,a as f,b as p,s as g,t as m,c as r,e as a,u as _,f as d,g as v,h as N,w as A,o as u,p as B,i as R}from"./index-66648858.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const w=l=>(B("data-v-cb63b645"),l=l(),R(),l),q={key:0},E={class:"header"},O={key:0},V={key:1},j={key:0},z=w(()=>a("h1",null," Click the + button to create a poll! ",-1)),F=w(()=>a("h2",null," Or, feel free to",-1)),G=[z,F],H=$({__name:"Polls",setup(l){new Date().toLocaleString(),x(v,"profile/user"),N().query.email;const n=f("");let c="",t=!1;const i=f(!0);p.onAuthStateChanged(function(e){e?(i.value=!0,n.value=e.uid,console.log(`User UID: ${n.value}`)):(i.value=!1,n.value="")});async function U(){await new Promise(e=>{A(n,(o,s)=>{console.log(`userUid changed from ${s} to ${o}`),c=o,e()})}),console.log(`New userUid value: ${c}`)}function b(e){e?(n.value=e.uid,e.uid):n.value=""}const I=g(v,"gameStats");m(I).then(e=>{const o=e.docs.map(s=>{const C=g(s.ref,c);return m(C).then(P=>{const S=P.docs.map(h=>({...h.data(),id:h.id}));return{...s.data(),id:s.id,newUserId:S}})});return Promise.all(o)}).then(e=>{const o=e.map(s=>s.newUserId);console.log(e),"word"in o[0][0]&&console.log(o[0][0].word),console.log(o[0].length)}).catch(e=>{console.log(e.message)}),p.onAuthStateChanged(b),U(),console.log(`New value ${c}`);function k(){t=!0,console.log(t)}function y(){t=!1,console.log(t)}return(e,o)=>i.value?(u(),r("span",q,[a("div",E,[_(t)==!1?(u(),r("span",O,[a("button",{onClick:k}," + ")])):d("",!0),_(t)==!0?(u(),r("span",V,[a("button",{onClick:y}," Cancel ")])):d("",!0)]),_(t)==!1?(u(),r("div",j,G)):d("",!0)])):d("",!0)}});const T=L(H,[["__scopeId","data-v-cb63b645"]]);export{T as default};
